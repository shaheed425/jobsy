{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{Navbar as BootstrapNavbar,Nav,Container,Badge,Dropdown}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{AppContext}from'../../App';import{NotificationService}from'../../domain/notificationService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const{user,userType,logout}=useContext(AppContext);const[unreadCount,setUnreadCount]=useState(0);const navigate=useNavigate();useEffect(()=>{if(user&&userType){loadUnreadCount();}},[user,userType]);const loadUnreadCount=async()=>{try{const count=await NotificationService.getUnreadCount(userType==='admin'?'all_students':userType,userType!=='admin'?user.id:null);setUnreadCount(count);}catch(error){console.error('Failed to load unread count:',error);}};const handleLogout=()=>{logout();navigate('/login');};const getNavItems=()=>{const commonItems=[{path:'/dashboard',label:'Dashboard',icon:'üè†'},{path:'/notifications',label:'Notifications',icon:'üîî',badge:unreadCount}];if(userType==='admin'){return[...commonItems,{path:'/students',label:'Students',icon:'üë•'},{path:'/employers',label:'Employers',icon:'üè¢'},{path:'/jobs',label:'Jobs',icon:'üíº'},{path:'/applications',label:'Applications',icon:'üìã'}];}else if(userType==='student'){return[...commonItems,{path:'/jobs',label:'Job Openings',icon:'üíº'},{path:'/applications',label:'My Applications',icon:'üìã'},{path:\"/student/\".concat(user.id),label:'My Profile',icon:'üë§'}];}else if(userType==='employer'){return[...commonItems,{path:'/jobs',label:'My Jobs',icon:'üíº'},{path:'/applications',label:'Applications',icon:'üìã'},{path:\"/employer/\".concat(user.id),label:'Company Profile',icon:'üè¢'}];}return commonItems;};return/*#__PURE__*/_jsx(BootstrapNavbar,{bg:\"white\",expand:\"lg\",className:\"shadow-sm\",fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(BootstrapNavbar.Brand,{as:Link,to:\"/dashboard\",className:\"text-primary\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDF93 Jobsy\"})}),/*#__PURE__*/_jsx(BootstrapNavbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(BootstrapNavbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:getNavItems().map(item=>/*#__PURE__*/_jsxs(Nav.Link,{as:Link,to:item.path,className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:item.icon}),item.label,item.badge>0&&/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"ms-2\",children:item.badge})]},item.path))}),/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsxs(Dropdown,{align:\"end\",children:[/*#__PURE__*/_jsxs(Dropdown.Toggle,{variant:\"outline-primary\",id:\"user-dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"\\uD83D\\uDC64\"}),(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.username)||(user===null||user===void 0?void 0:user.companyName)]}),/*#__PURE__*/_jsxs(Dropdown.Menu,{children:[/*#__PURE__*/_jsxs(Dropdown.Header,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.username)||(user===null||user===void 0?void 0:user.companyName)}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted text-capitalize\",children:userType})]}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),userType==='student'&&/*#__PURE__*/_jsxs(Dropdown.Item,{as:Link,to:\"/student/\".concat(user.id),children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"\\uD83D\\uDC64\"}),\"My Profile\"]}),userType==='employer'&&/*#__PURE__*/_jsxs(Dropdown.Item,{as:Link,to:\"/employer/\".concat(user.id),children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"\\uD83C\\uDFE2\"}),\"Company Profile\"]}),/*#__PURE__*/_jsxs(Dropdown.Item,{as:Link,to:\"/notifications\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"\\uD83D\\uDD14\"}),\"Notifications\",unreadCount>0&&/*#__PURE__*/_jsx(Badge,{bg:\"danger\",className:\"ms-2\",children:unreadCount})]}),/*#__PURE__*/_jsx(Dropdown.Divider,{}),/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:handleLogout,className:\"text-danger\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-2\",children:\"\\uD83D\\uDEAA\"}),\"Logout\"]})]})]})})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useContext","useState","useEffect","Navbar","BootstrapNavbar","Nav","Container","Badge","Dropdown","Link","useNavigate","AppContext","NotificationService","jsx","_jsx","jsxs","_jsxs","user","userType","logout","unreadCount","setUnreadCount","navigate","loadUnreadCount","count","getUnreadCount","id","error","console","handleLogout","getNavItems","commonItems","path","label","icon","badge","concat","bg","expand","className","fixed","children","fluid","Brand","as","to","Toggle","Collapse","map","item","align","variant","name","username","companyName","Menu","Header","Divider","Item","onClick"],"sources":["D:/jobsy/frontend/src/presentation/components/Navbar.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { Navbar as BootstrapNavbar, Nav, Container, Badge, Dropdown } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AppContext } from '../../App';\nimport { NotificationService } from '../../domain/notificationService';\n\nconst Navbar = () => {\n  const { user, userType, logout } = useContext(AppContext);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (user && userType) {\n      loadUnreadCount();\n    }\n  }, [user, userType]);\n\n  const loadUnreadCount = async () => {\n    try {\n      const count = await NotificationService.getUnreadCount(\n        userType === 'admin' ? 'all_students' : userType,\n        userType !== 'admin' ? user.id : null\n      );\n      setUnreadCount(count);\n    } catch (error) {\n      console.error('Failed to load unread count:', error);\n    }\n  };\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  const getNavItems = () => {\n    const commonItems = [\n      { path: '/dashboard', label: 'Dashboard', icon: 'üè†' },\n      { path: '/notifications', label: 'Notifications', icon: 'üîî', badge: unreadCount }\n    ];\n\n    if (userType === 'admin') {\n      return [\n        ...commonItems,\n        { path: '/students', label: 'Students', icon: 'üë•' },\n        { path: '/employers', label: 'Employers', icon: 'üè¢' },\n        { path: '/jobs', label: 'Jobs', icon: 'üíº' },\n        { path: '/applications', label: 'Applications', icon: 'üìã' }\n      ];\n    } else if (userType === 'student') {\n      return [\n        ...commonItems,\n        { path: '/jobs', label: 'Job Openings', icon: 'üíº' },\n        { path: '/applications', label: 'My Applications', icon: 'üìã' },\n        { path: `/student/${user.id}`, label: 'My Profile', icon: 'üë§' }\n      ];\n    } else if (userType === 'employer') {\n      return [\n        ...commonItems,\n        { path: '/jobs', label: 'My Jobs', icon: 'üíº' },\n        { path: '/applications', label: 'Applications', icon: 'üìã' },\n        { path: `/employer/${user.id}`, label: 'Company Profile', icon: 'üè¢' }\n      ];\n    }\n\n    return commonItems;\n  };\n\n  return (\n    <BootstrapNavbar bg=\"white\" expand=\"lg\" className=\"shadow-sm\" fixed=\"top\">\n      <Container fluid>\n        <BootstrapNavbar.Brand as={Link} to=\"/dashboard\" className=\"text-primary\">\n          <strong>üéì Jobsy</strong>\n        </BootstrapNavbar.Brand>\n        \n        <BootstrapNavbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <BootstrapNavbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"me-auto\">\n            {getNavItems().map((item) => (\n              <Nav.Link \n                key={item.path}\n                as={Link} \n                to={item.path}\n                className=\"d-flex align-items-center\"\n              >\n                <span className=\"me-2\">{item.icon}</span>\n                {item.label}\n                {item.badge > 0 && (\n                  <Badge bg=\"danger\" className=\"ms-2\">\n                    {item.badge}\n                  </Badge>\n                )}\n              </Nav.Link>\n            ))}\n          </Nav>\n          \n          <Nav>\n            <Dropdown align=\"end\">\n              <Dropdown.Toggle variant=\"outline-primary\" id=\"user-dropdown\">\n                <span className=\"me-2\">üë§</span>\n                {user?.name || user?.username || user?.companyName}\n              </Dropdown.Toggle>\n              \n              <Dropdown.Menu>\n                <Dropdown.Header>\n                  <div className=\"fw-bold\">{user?.name || user?.username || user?.companyName}</div>\n                  <small className=\"text-muted text-capitalize\">{userType}</small>\n                </Dropdown.Header>\n                <Dropdown.Divider />\n                \n                {userType === 'student' && (\n                  <Dropdown.Item as={Link} to={`/student/${user.id}`}>\n                    <span className=\"me-2\">üë§</span>My Profile\n                  </Dropdown.Item>\n                )}\n                \n                {userType === 'employer' && (\n                  <Dropdown.Item as={Link} to={`/employer/${user.id}`}>\n                    <span className=\"me-2\">üè¢</span>Company Profile\n                  </Dropdown.Item>\n                )}\n                \n                <Dropdown.Item as={Link} to=\"/notifications\">\n                  <span className=\"me-2\">üîî</span>\n                  Notifications\n                  {unreadCount > 0 && (\n                    <Badge bg=\"danger\" className=\"ms-2\">\n                      {unreadCount}\n                    </Badge>\n                  )}\n                </Dropdown.Item>\n                \n                <Dropdown.Divider />\n                <Dropdown.Item onClick={handleLogout} className=\"text-danger\">\n                  <span className=\"me-2\">üö™</span>Logout\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>\n        </BootstrapNavbar.Collapse>\n      </Container>\n    </BootstrapNavbar>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}